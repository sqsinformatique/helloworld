(this.webpackJsonphelloworld=this.webpackJsonphelloworld||[]).push([[0],{192:function(e,t,a){e.exports=a(305)},295:function(e,t,a){e.exports=a.p+"static/media/persik.4e1ec840.png"},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},305:function(e,t,a){"use strict";a.r(t);a(193),a(219),a(221),a(222),a(224),a(225),a(226),a(227),a(228),a(229),a(230),a(231),a(233),a(234),a(235),a(236),a(237),a(238),a(239),a(240),a(241),a(242),a(244),a(245),a(246),a(247),a(248),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(259),a(260),a(261);var n=a(0),r=a.n(n),o=a(114),c=a.n(o),i=a(25),l=a.n(i),s=a(27),u=a.n(s),d=a(47),m=a(33),h=a(34),f=a(63),p=a(38),E=a(37),b=a(2),g=a(125),v=a.n(g),y=a(115),_=a.n(y),j=a(116),w=a.n(j),k=["friends","client","courier"],O=(a(280),a(53)),C=a.n(O),S=a(64),x=a.n(S),z=a(42),U=a.n(z),F=a(57),P=a.n(F),G=a(121),I=a.n(G),K=a(120),V=a.n(K),A=a(117),D=a.n(A),L=a(118),W=a.n(L),M=a(119),N=a.n(M),q=function(e){var t=e.id,a=e.go,n=e.fetchedUser;return r.a.createElement(C.a,{id:t},r.a.createElement(x.a,null,"\u0413\u0434\u0435 \u043a\u0443\u0440\u044c\u0435\u0440?"),n&&r.a.createElement(U.a,{title:"User Data Fetched with VK Bridge"},r.a.createElement(P.a,{before:n.photo_200?r.a.createElement(V.a,{src:n.photo_200}):null,description:n.city&&n.city.title?n.city.title:""},"".concat(n.first_name," ").concat(n.last_name))),r.a.createElement(U.a,{title:"Navigation Example"},r.a.createElement(I.a,null,r.a.createElement(P.a,{expandable:!0,before:r.a.createElement(D.a,null),onClick:a,"data-to":"client"},"\u042f \u043a\u043b\u0438\u0435\u043d\u0442"),r.a.createElement(P.a,{expandable:!0,before:r.a.createElement(W.a,null),onClick:a,"data-to":"courier"},"\u042f \u043a\u0443\u0440\u044c\u0435\u0440"),r.a.createElement(P.a,{expandable:!0,before:r.a.createElement(N.a,null),onClick:a,"data-to":"business"},"\u042f \u0431\u0438\u0437\u043d\u0435\u0441"))))},B=a(30),J=a.n(B),R=a(35),T=a.n(R),Z=a(36),H=a.n(Z),Q=a(122),X=a.n(Q),Y=a(123),$=a.n(Y),ee=a(124),te=a.n(ee),ae=(a(295),a(296),Object(b.n)());ae===b.f&&ae===b.a||(r.a.Fragment,J.a,X.a,J.a,$.a,J.a,te.a);var ne=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={fetchedUser:null},n}return Object(h.a)(a,[{key:"getClientOrders",value:function(){return[{shop:'\u041c\u0430\u0433\u0430\u0437\u0438\u043d "\u0420\u0430\u0437\u0432\u0438\u0432\u0430\u044e\u0449\u0438\u0435 \u0438\u0433\u0440\u0443\u0448\u043a\u0438"',date:"06.06.2020",state:"\u0412\u0435\u0437\u0443\u0442",number:"5488779",target:"\u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0411\u0440\u0430\u0442\u0438\u0441\u043b\u0430\u0432\u0441\u043a\u0430\u044f, \u0434. 31\u043a1",courier_id:123},{shop:'\u041c\u0430\u0433\u0430\u0437\u0438\u043d "\u0410\u0432\u0442\u043e\u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0438"',date:"08.06.2020",state:"\u0412\u0435\u0437\u0443\u0442",number:"34643-643",target:"\u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0411\u0440\u0430\u0442\u0438\u0441\u043b\u0430\u0432\u0441\u043a\u0430\u044f, \u0434. 31\u043a1",courier_id:124}]}},{key:"render",value:function(){var e=this.props;return r.a.createElement(C.a,{id:e.id},r.a.createElement(b.h,{left:r.a.createElement(J.a,{onClick:e.go,"data-to":"home"},ae===b.f?r.a.createElement(T.a,null):r.a.createElement(H.a,null))},"\u041a\u043b\u0438\u0435\u043d\u0442"),r.a.createElement(U.a,{header:r.a.createElement(b.e,null,"\u041c\u043d\u0435 \u0432\u0435\u0437\u0443\u0442")},this.getClientOrders().map((function(t){return r.a.createElement(b.j,{disabled:!0,multiline:!0,before:r.a.createElement(b.b,{size:72}),text:t.shop,caption:t.date,after:t.state,actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.c,{onClick:function(a){return e.go(a,t)},"data-to":"view_where_courier"},"\u041a\u0443\u0440\u044c\u0435\u0440 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),r.a.createElement(b.c,null,"\u0427\u0430\u0442 \u0441 \u043a\u0443\u0440\u044c\u0435\u0440\u043e\u043c"))},t.number)}))))}}]),a}(r.a.Component),re=a(65),oe=a.n(re),ce=(a(297),Object(b.n)()),ie=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={fetchedUser:null},n}return Object(h.a)(a,[{key:"getCourierOrders",value:function(){return[{shop:'\u041c\u0430\u0433\u0430\u0437\u0438\u043d "\u0420\u0430\u0437\u0432\u0438\u0432\u0430\u044e\u0449\u0438\u0435 \u0438\u0433\u0440\u0443\u0448\u043a\u0438"',date:"06.06.2020",state:"\u0412\u0435\u0437\u0443\u0442",number:"5488779",target:"\u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0411\u0440\u0430\u0442\u0438\u0441\u043b\u0430\u0432\u0441\u043a\u0430\u044f, \u0434. 31\u043a1",courier_id:123},{shop:'\u041c\u0430\u0433\u0430\u0437\u0438\u043d "\u0410\u0432\u0442\u043e\u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0438"',date:"08.06.2020",state:"\u0412\u0435\u0437\u0443\u0442",number:"34643-643",target:"\u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0411\u0440\u0430\u0442\u0438\u0441\u043b\u0430\u0432\u0441\u043a\u0430\u044f, \u0434. 31\u043a1",courier_id:124}]}},{key:"render",value:function(){var e=this.props;return r.a.createElement(b.g,{id:e.id},r.a.createElement(b.h,{noShadow:!0,left:r.a.createElement(b.i,{onClick:e.go,"data-to":"home"},ce===b.f?r.a.createElement(T.a,null):r.a.createElement(H.a,null))},"\u041a\u0443\u0440\u044c\u0435\u0440"),r.a.createElement(U.a,{header:r.a.createElement(oe.a,null,"\u041c\u043d\u0435 \u0432\u0435\u0437\u0443\u0442")},this.getCourierOrders().map((function(t){return r.a.createElement(b.j,{disabled:!0,multiline:!0,before:r.a.createElement(b.b,{size:72}),text:t.shop,caption:t.date,after:t.state,actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.c,{onClick:function(a){return e.go(a,t)},"data-to":"view_where_client"},"\u0410\u0434\u0440\u0435\u0441 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),r.a.createElement(b.c,null,"\u0427\u0430\u0442 \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c"))},t.number)}))))}}]),a}(r.a.Component),le=(a(298),Object(b.n)()),se=function(e){return r.a.createElement(C.a,{id:e.id},r.a.createElement(x.a,{left:r.a.createElement(J.a,{onClick:e.go,"data-to":"home"},le===b.f?r.a.createElement(T.a,null):r.a.createElement(H.a,null))},"\u0411\u0438\u0437\u043d\u0435\u0441"),r.a.createElement(U.a,{header:r.a.createElement(oe.a,null,"\u0423 \u043a\u0443\u0440\u044c\u0435\u0440\u0430")},r.a.createElement(b.j,{disabled:!0,multiline:!0,before:r.a.createElement(b.b,{size:72}),text:"\u041a\u0443\u0440\u044c\u0435\u0440 \u0418\u0432\u0430\u043d\u043e\u0432 \u0412\u0438\u043a\u0442\u043e\u0440",caption:"03.06.2020",after:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d",actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.c,null,"\u041a\u0443\u0440\u044c\u0435\u0440 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),r.a.createElement(b.c,null,"\u0427\u0430\u0442 \u0441 \u043a\u0443\u0440\u044c\u0435\u0440\u043e\u043c"))},"\u2116322356"),r.a.createElement(b.j,{disabled:!0,multiline:!0,before:r.a.createElement(b.b,{size:72}),text:"\u041a\u0443\u0440\u044c\u0435\u0440 \u0420\u0430\u0432\u0448\u0430\u043d \u0418\u043b\u044c\u044e\u0441\u043e\u0432\u0438\u0447",caption:"05.06.2020",after:"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d",actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.c,null,"\u041a\u0443\u0440\u044c\u0435\u0440 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),r.a.createElement(b.c,null,"\u0427\u0430\u0442 \u0441 \u043a\u0443\u0440\u044c\u0435\u0440\u043e\u043c"))},"\u2116789-7890")))},ue=a(48),de={center:[55.751574,37.573856],zoom:9,controls:["zoomControl"]},me=Object(b.n)();var he=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={courier_id:-1,courier_geodata:{lat:55.6592,long:37.753314}},n.state.geoUpdateInterval=setInterval((function(){n.fetchCourierGeo()}),5e3),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,this.setState({courier_id:t.order.courier_id}),this.setState({courier_geodata:{lat:55.6592,long:37.753314}});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCourierGeo",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.courier_id>0&&this.setState({courier_geodata:{lat:this.state.courier_geodata.lat+1e-5,long:this.state.courier_geodata.long+1e-5}});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props;return r.a.createElement(b.g,{id:e.id},r.a.createElement(b.h,{left:r.a.createElement(J.a,{onClick:this.props.go,"data-to":"client"},me===b.f?r.a.createElement(T.a,null):r.a.createElement(H.a,null))},e.order.shop),r.a.createElement(b.j,{disabled:!0,multiline:!0,before:r.a.createElement(b.b,{size:72}),text:"",caption:e.order.date,after:e.order.state,actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.c,null,"\u0427\u0430\u0442 \u0441 \u043a\u0443\u0440\u044c\u0435\u0440\u043e\u043c"))},e.order.number),function(e,t){var a,n;return a="object"===typeof e?e.lat+","+e.long:e,n="object"===typeof t?t.lat+","+t.long:t,console.log(t),r.a.createElement(ue.c,{query:{apikey:"482da132-c4be-476f-95ef-79ba61d579a4",load:"control.ZoomControl"}},r.a.createElement(ue.a,{width:"100vw",height:"100vh",defaultState:de,className:"mapview"},r.a.createElement(ue.b,{instanceRef:function(e){e&&(e.routePanel.state.set({fromEnabled:!1,type:"masstransit",from:n,to:a,toEnabled:!1}),e.routePanel.options.set({allowSwitch:!1,reverseGeocoding:!0,types:{masstransit:!1,pedestrian:!1,taxi:!1}}))},options:{float:"right"}})))}(e.order.target,this.state.courier_geodata))}}]),a}(r.a.Component),fe={center:[55.751574,37.573856],zoom:9,controls:["zoomControl"]},pe=Object(b.n)();var Ee=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).state={courier_id:-1,courier_geodata:{lat:55.6592,long:37.753314}},n.state.geoUpdateInterval=setInterval((function(){n.fetchCourierGeo()}),5e3),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,this.setState({courier_id:t.order.courier_id}),this.setState({courier_geodata:{lat:55.6592,long:37.753314}});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCourierGeo",value:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.courier_id>0&&this.setState({courier_geodata:{lat:this.state.courier_geodata.lat+1e-5,long:this.state.courier_geodata.long+1e-5}});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props;return r.a.createElement(b.g,{id:e.id},r.a.createElement(b.h,{left:r.a.createElement(J.a,{onClick:this.props.go,"data-to":"courier"},pe===b.f?r.a.createElement(T.a,null):r.a.createElement(H.a,null))},e.order.shop),r.a.createElement(b.j,{disabled:!0,multiline:!0,before:r.a.createElement(b.b,{size:72}),text:"",caption:e.order.date,after:e.order.state,actions:r.a.createElement(r.a.Fragment,null,r.a.createElement(b.c,null,"\u0427\u0430\u0442 \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c"))},e.order.number),function(e,t){var a,n;return a="object"===typeof e?e.lat+","+e.long:e,n="object"===typeof t?t.lat+","+t.long:t,console.log(t),r.a.createElement(ue.c,{query:{apikey:"482da132-c4be-476f-95ef-79ba61d579a4",load:"control.ZoomControl"}},r.a.createElement(ue.a,{width:"100vw",height:"100vh",defaultState:fe,className:"mapview"},r.a.createElement(ue.b,{instanceRef:function(e){e&&(e.routePanel.state.set({fromEnabled:!1,type:"masstransit",from:n,to:a,toEnabled:!1}),e.routePanel.options.set({allowSwitch:!1,reverseGeocoding:!0,types:{masstransit:!1,pedestrian:!1,taxi:!1}}))},options:{float:"right"}})))}(e.order.target,this.state.courier_geodata))}}]),a}(r.a.Component),be=window.location.hash.substr(1),ge=function(e){Object(p.a)(a,e);var t=Object(E.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).setLocation=function(e){"home"!==e?l.a.send("VKWebAppSetLocation",{location:e}):l.a.send("VKWebAppSetLocation",{location:""})},n.go=function(e,t){var a=e.currentTarget.dataset.to;"view_where_courier"===a&&n.setState({client_order:t}),"view_where_client"===a&&n.setState({courier_order:t}),n.setState({activePanel:a}),n.setLocation(a)},n.state={activePanel:~k.indexOf(be)?be:"home",fetchedUser:null,popout:r.a.createElement(v.a,{size:"large"}),activeStory:"main",client_order:null,courier_order:null},n.onStoryChange=n.onStoryChange.bind(Object(f.a)(n)),n}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,this.setState({fetchedUser:t,popout:null});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"render",value:function(){return r.a.createElement(b.d,{activeStory:this.state.activeStory,tabbar:r.a.createElement(b.k,null,r.a.createElement(b.l,{onClick:this.onStoryChange,selected:"main"===this.state.activeStory,"data-story":"main",text:"\u041d\u0430\u0447\u0430\u043b\u043e"},r.a.createElement(_.a,null)),r.a.createElement(b.l,{onClick:this.onStoryChange,selected:"discover"===this.state.activeStory,"data-story":"discover",text:"\u041f\u043e\u0438\u0441\u043a"},r.a.createElement(w.a,null)))},r.a.createElement(b.m,{id:"main",activePanel:this.state.activePanel,popout:this.state.popout},r.a.createElement(q,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go}),r.a.createElement(ne,{id:"client",data:this.state.data,go:this.go}),r.a.createElement(ie,{id:"courier",go:this.go}),r.a.createElement(se,{id:"business",go:this.go}),r.a.createElement(he,{id:"view_where_courier",order:this.state.client_order,go:this.go}),r.a.createElement(Ee,{id:"view_where_client",order:this.state.courier_order,go:this.go})))}}]),a}(r.a.Component);l.a.send("VKWebAppInit"),c.a.render(r.a.createElement(ge,null),document.getElementById("root"))}},[[192,1,2]]]);
//# sourceMappingURL=main.4233d785.chunk.js.map