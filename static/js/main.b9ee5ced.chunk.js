(this.webpackJsonphelloworld=this.webpackJsonphelloworld||[]).push([[0],{122:function(e,t,r){},191:function(e,t,r){e.exports=r(298)},290:function(e,t,r){},291:function(e,t,r){},298:function(e,t,r){"use strict";r.r(t);r(192),r(218),r(220),r(221),r(223),r(224),r(225),r(226),r(227),r(228),r(229),r(230),r(232),r(233),r(234),r(235),r(236),r(237),r(238),r(239),r(240),r(241),r(243),r(244),r(245),r(246),r(247),r(248),r(249),r(250),r(251),r(252),r(253),r(254),r(255),r(256),r(257),r(258),r(259),r(260);var a=r(0),n=r.n(a),s=r(123),o=r.n(s),i=r(27),c=r.n(i),u=r(6),l=r.n(u),d=r(10),h=r(23),p=r(24),f=r(54),m=r(26),b=r(25),v=r(2),g=r(135),k=r.n(g),_=(r(279),r(125)),y=r.n(_),E=r(126),O=r.n(E),j=r(127),C=r.n(j),w=r(87),x=r.n(w),S=r(65),q=r.n(S),U=["friends","client","courier"],P=(r(280),r(48)),T=r.n(P),D=r(55),z=r.n(D),G=r(49),M=r.n(G),N=r(67),I=r.n(N),J=r(130),V=r.n(J),W=r(128),A=r.n(W),B=r(129),F=r.n(B),K=function(e){var t=e.id,r=e.go;e.fetchedUser;return n.a.createElement(T.a,{id:t},n.a.createElement(z.a,null,"\u0413\u0434\u0435 \u043a\u0443\u0440\u044c\u0435\u0440?"),n.a.createElement(M.a,{title:"Navigation Example"},n.a.createElement(V.a,null,n.a.createElement(I.a,{expandable:!0,before:n.a.createElement(A.a,null),onClick:r,"data-to":"client"},"\u042f \u043a\u043b\u0438\u0435\u043d\u0442"),n.a.createElement(I.a,{expandable:!0,before:n.a.createElement(F.a,null),onClick:r,"data-to":"courier"},"\u042f \u043a\u0443\u0440\u044c\u0435\u0440"),n.a.createElement(I.a,{expandable:!0,before:n.a.createElement(q.a,null),onClick:r,"data-to":"business"},"\u042f \u0431\u0438\u0437\u043d\u0435\u0441"))))},L=r(30),R=r.n(L),Z=r(31),H=r.n(Z),Y=r(32),$=r.n(Y),Q=r(131),X=r.n(Q),ee=r(132),te=r.n(ee),re=r(133),ae=r.n(re),ne=(r(290),Object(v.x)());ne===v.l&&ne===v.a||(n.a.Fragment,R.a,X.a,R.a,te.a,R.a,ae.a);var se=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).state={fetchedUser:e.fetchedUser,orders:null,user:e.user},console.log("user client",a.state.fetchedUser),a}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchUser();case 2:this.getClientOrders();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUser",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://sqsinformatique-vk-back.ngrok.io/api/v1/clients/",e.next=3,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/clients/"+this.state.fetchedUser.id);case 3:if(!(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:r=e.sent,this.setState({user:r.result}),console.log(this.state.user);case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getClientOrders",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.props,t=[{hash_telephone:this.state.user.hash_telephone}],console.log(t),"https://sqsinformatique-vk-back.ngrok.io/api/v1/orders/search",e.next=6,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/orders/search",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(t)});case 6:if(!(r=e.sent).ok){e.next=13;break}return e.next=10,r.json();case 10:a=e.sent,console.log(a),this.setState({orders:a.result});case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"orderStateToString",value:function(e){switch(e){case"to_delivery":return"\u0412 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435";default:return"\u041d\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"}}},{key:"fullOrderDate",value:function(e){return e.order_date+" \u0441 "+e.order_time_begin+" \u0434\u043e "+e.order_time_end}},{key:"render",value:function(){var e=this,t=this.props;return n.a.createElement(T.a,{id:t.id},n.a.createElement(v.p,{left:n.a.createElement(R.a,{onClick:t.go,"data-to":"home"},ne===v.l?n.a.createElement(H.a,null):n.a.createElement($.a,null))},"\u041a\u043b\u0438\u0435\u043d\u0442"),n.a.createElement(M.a,{header:n.a.createElement(v.k,null,"\u041c\u043d\u0435 \u0432\u0435\u0437\u0443\u0442")},this.state.orders&&this.state.orders.map((function(r){return n.a.createElement(v.r,{key:r.order_number,disabled:!0,multiline:!0,before:n.a.createElement(v.c,{size:72}),text:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u0435\u043b\u044c: "+r.business_name,caption:e.fullOrderDate(r),after:e.orderStateToString(r.order_state),actions:n.a.createElement(n.a.Fragment,null,n.a.createElement(v.d,{onClick:function(e){return t.go(e,r)},"data-to":"view_where_courier"},"\u041a\u0443\u0440\u044c\u0435\u0440 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),n.a.createElement(v.d,null,"\u0427\u0430\u0442 \u0441 \u043a\u0443\u0440\u044c\u0435\u0440\u043e\u043c"))},r.order_number)}))))}}]),r}(n.a.Component),oe=r(66),ie=r.n(oe),ce=(r(122),Object(v.x)()),ue=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).state={fetchedUser:e.fetchedUser,user:e.user,orders:null},a}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchUser();case 2:this.getBusinessOrders();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUser",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://sqsinformatique-vk-back.ngrok.io/api/v1/business/",e.next=3,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/business/"+this.state.fetchedUser.id);case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:r=e.sent,this.setState({user:r.result});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getBusinessOrders",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,console.log(t.user),r=[{business_id:"+"+t.user.business_id}],console.log(r),"https://sqsinformatique-vk-back.ngrok.io/api/v1/orders/search",e.next=7,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/orders/search",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 7:if(!(a=e.sent).ok){e.next=14;break}return e.next=11,a.json();case 11:n=e.sent,console.log(n),this.setState({orders:n.result});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fullOrderDate",value:function(e){return e.order_date+" \u0441 "+e.order_time_begin+" \u0434\u043e "+e.order_time_end}},{key:"orderStateToString",value:function(e){switch(e){case"to_delivery":return"\u0412 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435";default:return"\u041d\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"}}},{key:"render",value:function(){var e=this,t=this.props;return n.a.createElement(T.a,{id:t.id},n.a.createElement(z.a,{left:n.a.createElement(R.a,{onClick:t.go,"data-to":"home"},ce===v.l?n.a.createElement(H.a,null):n.a.createElement($.a,null))},"\u0411\u0438\u0437\u043d\u0435\u0441"),n.a.createElement(M.a,{header:n.a.createElement(ie.a,null,"\u0423 \u043a\u0443\u0440\u044c\u0435\u0440\u0430")},this.state.orders&&this.state.orders.map((function(r){return n.a.createElement(v.r,{key:r.number,disabled:!0,multiline:!0,before:n.a.createElement(v.c,{size:72}),text:"\u041a\u0443\u0440\u044c\u0435\u0440 "+r.curier_name,caption:e.fullOrderDate(r),after:e.orderStateToString(r.order_state),actions:n.a.createElement(n.a.Fragment,null,n.a.createElement(v.d,{onClick:function(e){return t.go(e,r)},"data-to":"view_where_courier_for_business"},"\u041a\u0443\u0440\u044c\u0435\u0440 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),n.a.createElement(v.d,null,"\u0427\u0430\u0442 \u0441 \u043a\u0443\u0440\u044c\u0435\u0440\u043e\u043c"))},r.order_number)}))))}}]),r}(n.a.Component),le=r(88);function de(e){var t=e.replace(/\D/g,"");return/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/.test(t)}var he=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).addCourier=function(){a.setState({validatePhone:de(a.state.phone)}),a.state.validatePhone&&a.createBinding()},a.updatePhoneValue=function(e){a.setState({phone:e.target.value}),console.log(a.state.phone)},a.resetPhoneValue=function(e){e.target.value=""},a.state={fetchedUser:null,validatePhone:!0,user:e.user,phone:"",couriers:null},a}return Object(p.a)(r,[{key:"getMyCuriers",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,"https://sqsinformatique-vk-back.ngrok.io/api/v1/business/curiers/",e.next=4,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/business/curiers/"+t.user.business_id);case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,this.setState({couriers:a.result});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getMyCuriers();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"createBinding",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r={business_id:t.user.business_id,phone:this.state.phone},console.log(r),"https://sqsinformatique-vk-back.ngrok.io/api/v1/business/bind_curier",e.next=6,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/business/bind_curier",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 6:return(a=e.sent).ok&&(n=a.json(),console.log(n)),e.next=10,this.getMyCuriers();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"unbind",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var r,a,n,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.props,a={business_id:r.user.business_id,curier_id:t},console.log(a),"https://sqsinformatique-vk-back.ngrok.io/api/v1/business/unbind_curier",e.next=6,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/business/unbind_curier",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(a)});case 6:(n=e.sent).ok&&(s=n.json(),console.log(s));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,r=this.props;return this.state.validatePhone||(e=n.a.createElement(v.i,{header:"\u041d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440",mode:"error"},"\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043d\u043e\u043c\u0435\u0440 \u0432 \u043c\u0435\u0436\u0434\u0443\u043d\u0430\u0440\u043e\u0434\u043d\u043e\u043c \u0444\u043e\u0440\u043c\u0430\u0442\u0435")),n.a.createElement(v.o,{id:r.id},n.a.createElement(v.p,null,"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"),this.state.couriers&&n.a.createElement(v.j,{header:n.a.createElement(v.k,{mode:"secondary"},"\u041c\u043e\u0438 \u043a\u0443\u0440\u044c\u0435\u0440\u044b")},n.a.createElement(v.n,null,this.state.couriers.map((function(e,r){return n.a.createElement(v.e,{key:e.curier_id,removable:!0,onRemove:function(){t.setState({couriers:[].concat(Object(le.a)(t.state.couriers.slice(0,r)),Object(le.a)(t.state.couriers.slice(r+1)))}),t.unbind(e.curier_id)}},e.first_name," ",e.last_name)})))),n.a.createElement(v.g,null,e,n.a.createElement(v.m,{id:"telephone",top:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0443\u0440\u044c\u0435\u0440\u0430 \u043f\u043e \u043d\u043e\u043c\u0435\u0440\u0443 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",value:this.state.phone,type:"tel",onChange:this.updatePhoneValue}),n.a.createElement(v.d,{size:"xl",onClick:this.addCourier},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c")))}}]),r}(n.a.Component),pe=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).state={fetchedUser:e.fetchedUser},a}return Object(p.a)(r,[{key:"createUser",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a,n,s,o,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,r="https://sqsinformatique-vk-back.ngrok.io/api/v1/",e.t0=t.userType,e.next="client"===e.t0?5:"courier"===e.t0?7:"business"===e.t0?9:11;break;case 5:return r+="clients",e.abrupt("break",12);case 7:return r+="curiers",e.abrupt("break",12);case 9:return r+="business",e.abrupt("break",12);case 11:return e.abrupt("return",!0);case 12:return e.next=14,c.a.send("VKWebAppGetPhoneNumber",{});case 14:return a=e.sent,console.log(a),e.next=18,c.a.send("VKWebAppGetEmail",{});case 18:return n=e.sent,console.log(n),s={social_id:this.state.fetchedUser.id.toString(),email:n.email,telephone:a.phone_number},e.next=23,fetch(r,{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(s)});case 23:(o=e.sent).ok&&(i=o.json(),console.log(i)),t.closePopout();case 26:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,r=this.props;switch(r.userType){case"client":e="\u043a\u043b\u0438\u0435\u043d\u0442";break;case"courier":e="\u043a\u0443\u0440\u044c\u0435\u0440";break;case"business":e="\u0431\u0438\u0437\u043d\u0435\u0441-\u043f\u0430\u0440\u0442\u043d\u0451\u0440"}return n.a.createElement(v.b,{actions:[{title:"\u042f \u0441\u043e\u0433\u043b\u0430\u0441\u0435\u043d",autoclose:!0,action:function(){return t.createUser()}},{title:"\u041e\u0442\u043c\u0435\u043d\u0430",autoclose:!0,mode:"cancel"}],onClose:r.closePopout},n.a.createElement("h1",null,"\u0417\u0434\u0440\u0430\u0432\u0441\u0442\u0432\u0443\u0439\u0442\u0435!"),"\u0412\u044b \u043d\u043e\u0432\u044b\u0439 ",n.a.createElement("b",null,e)," \u043d\u0430\u0448\u0435\u0433\u043e \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f!",n.a.createElement("div",null,n.a.createElement("br",null),"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435, \u0447\u0442\u043e \u0434\u0430\u0451\u0442\u0435 \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435, \u043d\u0430 \u0434\u043e\u0441\u0442\u0443\u043f \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u044f \u043a \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0432\u0430\u0448\u0435\u0439 \u0443\u0447\u0451\u0442\u043d\u043e\u0439 \u0437\u0430\u043f\u0438\u0441\u0438 \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438 \u0412\u041a. ",n.a.createElement("br",null),"\u0414\u0430\u043d\u043d\u0430\u044f \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043d\u0435 \u0431\u0443\u0434\u0435\u0442 \u043f\u0435\u0440\u0435\u0434\u0430\u0432\u0430\u0442\u044c\u0441\u044f \u0442\u0440\u0435\u0442\u044c\u0438\u043c \u043b\u0438\u0446\u0430\u043c. \u041c\u044b \u0445\u0440\u0430\u043d\u0438\u043c \u0442\u043e\u043b\u044c\u043a\u043e ID \u0432 \u0441\u043e\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0435\u0442\u0438 \u0438 \u043c\u044b \u043d\u0435 \u0445\u0440\u0430\u043d\u0438\u043c \u0412\u0430\u0448 email \u0438 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440."))}}]),r}(n.a.Component),fe=r(134),me=Object(v.x)(),be=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).createOrderHandler=function(){a.createOrder()},a.state={fetchedUser:null,user:e.user,couriers:null,email:"",phone:"",order_number:"",address:"",description:"",order_date:"",order_time_begin:"",order_time_end:"",curier_id:0},console.log("user courier",e.user),a.onChange=a.onChange.bind(Object(f.a)(a)),a}return Object(p.a)(r,[{key:"getMyCuriers",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,"https://sqsinformatique-vk-back.ngrok.io/api/v1/business/curiers/",e.next=4,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/business/curiers/"+t.user.business_id);case 4:return r=e.sent,e.next=7,r.json();case 7:a=e.sent,this.setState({couriers:a.result}),this.state.couriers&&this.setState({curier_id:this.state.couriers[0].curier_id});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.getMyCuriers();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onChange",value:function(e){var t=e.currentTarget,r=t.name,a=t.value;this.setState(Object(fe.a)({},r,a))}},{key:"createOrder",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,r={business_id:t.user.business_id,curier_id:this.state.curier_id,email:this.state.email,telephone:this.state.phone,order_number:this.state.order_number,order_address:this.state.address,order_description:this.state.description,order_date:new Date(Date.parse(this.state.order_date)).toJSON(),order_time_begin:this.state.order_time_begin,order_time_end:this.state.order_time_end,order_state:"to_delivery"},console.log(r),"https://sqsinformatique-vk-back.ngrok.io/api/v1/orders",e.next=6,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/orders",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 6:(a=e.sent).ok&&(n=a.json(),console.log(n));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=this.state,r=t.email,a=t.phone,s=t.address,o=t.order_number,i=t.description,c=t.curier_id,u=t.order_date,l=t.order_time_begin,d=t.order_time_end;return n.a.createElement(T.a,{id:e.id},n.a.createElement(z.a,{left:n.a.createElement(R.a,{onClick:e.go,"data-to":"business"},me===v.l?n.a.createElement(H.a,null):n.a.createElement($.a,null))},[e.business_name]),n.a.createElement(v.g,null,n.a.createElement(v.m,{top:"\u041d\u043e\u043c\u0435\u0440 \u0437\u0430\u043a\u0430\u0437\u0430",name:"order_number",value:o,onChange:this.onChange}),n.a.createElement(v.m,{top:"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d",type:"tel",name:"phone",value:a,onChange:this.onChange}),n.a.createElement(v.m,{type:"email",top:"E-mail",name:"email",value:r,onChange:this.onChange}),n.a.createElement(v.m,{top:"\u0410\u0434\u0440\u0435\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",name:"address",value:s,onChange:this.onChange}),n.a.createElement(v.v,{top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u043a\u0430\u0437\u0430",name:"description",value:i,onChange:this.onChange}),n.a.createElement(v.m,{type:"date",top:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438",name:"order_date",value:u,onChange:this.onChange}),n.a.createElement(v.h,{top:"\u0412\u0440\u0435\u043c\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"},n.a.createElement(v.m,{type:"time",step:"3600000",top:"\u0412\u0440\u0435\u043c\u044f \u043e\u0442",name:"order_time_begin",value:l,onChange:this.onChange}),n.a.createElement(v.m,{type:"time",step:"3600000",top:"\u0434\u043e",name:"order_time_end",value:d,onChange:this.onChange})),n.a.createElement(v.s,{top:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u0443\u0440\u044c\u0435\u0440\u0430",name:"curier_id",value:c,onChange:this.onChange},this.state.couriers&&this.state.couriers.map((function(e,t){return n.a.createElement("option",{key:e.curier_id,value:e.curier_id},e.first_name," ",e.last_name)}))),n.a.createElement(v.d,{size:"xl",onClick:this.createOrderHandler},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0437\u0430\u043a\u0430\u0437")))}}]),r}(n.a.Component),ve=(r(291),Object(v.x)()),ge=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).state={fetchedUser:e.fetchedUser,user:e.user,orders:null},a}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fetchUser();case 2:this.getCourierOrders();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUser",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://sqsinformatique-vk-back.ngrok.io/api/v1/curiers/",e.next=3,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/curiers/"+this.state.fetchedUser.id);case 3:if(!(t=e.sent).ok){e.next=9;break}return e.next=7,t.json();case 7:r=e.sent,this.setState({user:r.result});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getCourierOrders",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,console.log(t.user),r=[{curier_id:"+"+t.user.curier_id}],console.log(r),"https://sqsinformatique-vk-back.ngrok.io/api/v1/orders/search",e.next=7,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/orders/search",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 7:if(!(a=e.sent).ok){e.next=14;break}return e.next=11,a.json();case 11:n=e.sent,console.log(n),this.setState({orders:n.result});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"orderStateToString",value:function(e){switch(e){case"to_delivery":return"\u0412 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435";default:return"\u041d\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"}}},{key:"fullOrderDate",value:function(e){return e.order_date+" \u0441 "+e.order_time_begin+" \u0434\u043e "+e.order_time_end}},{key:"render",value:function(){var e=this,t=this.props;return n.a.createElement(v.o,{id:t.id},n.a.createElement(v.p,{left:n.a.createElement(v.q,{onClick:t.go,"data-to":"home"},ve===v.l?n.a.createElement(H.a,null):n.a.createElement($.a,null))},"\u041a\u0443\u0440\u044c\u0435\u0440"),n.a.createElement(M.a,{header:n.a.createElement(ie.a,null,"\u042f \u0432\u0435\u0437\u0443")},this.state.orders&&this.state.orders.map((function(r){return n.a.createElement(v.r,{key:r.order_number,disabled:!0,multiline:!0,before:n.a.createElement(v.c,{size:72}),text:r.business_name,caption:e.fullOrderDate(r),after:e.orderStateToString(r.order_state),actions:n.a.createElement(n.a.Fragment,null,n.a.createElement(v.d,{onClick:function(e){return t.go(e,r)},"data-to":"view_where_client"},"\u0410\u0434\u0440\u0435\u0441 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),n.a.createElement(v.d,null,"\u0427\u0430\u0442 \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c"))},r.order_number)}))))}}]),r}(n.a.Component),ke=r(29),_e={center:[55.751574,37.573856],zoom:9,controls:["zoomControl"]},ye=Object(v.x)();var Ee=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).state={courier_id:-1,courier_geodata:{lat:55.6592,long:37.753314}},a.state.geoUpdateInterval=setInterval((function(){a.fetchCourierGeo()}),5e3),a}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,this.setState({courier_id:t.order.curier_id}),"https://sqsinformatique-vk-back.ngrok.io/api/v1/curiers/geo/",e.next=5,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/curiers/geo/"+t.order.curier_id);case 5:if(!(r=e.sent).ok){e.next=11;break}return e.next=9,r.json();case 9:a=e.sent,this.setState({courier_geodata:{lat:a.result.lat,long:a.result.long}});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCourierGeo",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.state.courier_id>0)){e.next=10;break}return"https://sqsinformatique-vk-back.ngrok.io/api/v1/curiers/geo/",e.next=4,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/curiers/geo/"+this.state.courier_id);case 4:if(!(t=e.sent).ok){e.next=10;break}return e.next=8,t.json();case 8:r=e.sent,this.setState({courier_geodata:{lat:r.result.lat,long:r.result.long}});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fullOrderDate",value:function(e){return e.order_date+" \u0441 "+e.order_time_begin+" \u0434\u043e "+e.order_time_end}},{key:"orderStateToString",value:function(e){switch(e){case"to_delivery":return"\u0412 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0435";default:return"\u041d\u0435 \u0438\u0437\u0432\u0435\u0441\u0442\u043d\u043e\u0435 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435"}}},{key:"render",value:function(){var e=this.props;return n.a.createElement(v.o,{id:e.id},n.a.createElement(v.p,{left:n.a.createElement(R.a,{onClick:this.props.go,"data-to":"client"},ye===v.l?n.a.createElement(H.a,null):n.a.createElement($.a,null))},"\u041a\u0443\u0440\u044c\u0435\u0440 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"),n.a.createElement(v.r,{disabled:!0,multiline:!0,before:n.a.createElement(v.c,{size:72}),text:e.order.business_name,caption:this.fullOrderDate(e.order),after:this.orderStateToString(e.order.order_state),actions:n.a.createElement(n.a.Fragment,null,n.a.createElement(v.d,null,"\u0427\u0430\u0442 \u0441 \u043a\u0443\u0440\u044c\u0435\u0440\u043e\u043c"))},e.order.order_number),function(e,t){var r,a;return r="object"===typeof e?e.lat+","+e.long:e,a="object"===typeof t?t.lat+","+t.long:t,console.log(t),n.a.createElement(ke.d,{query:{apikey:"482da132-c4be-476f-95ef-79ba61d579a4",load:"control.ZoomControl"}},n.a.createElement(ke.a,{width:"100vw",height:"100vh",defaultState:_e,className:"mapview"},n.a.createElement(ke.c,{instanceRef:function(e){e&&(e.routePanel.state.set({fromEnabled:!1,type:"masstransit",from:a,to:r,toEnabled:!1}),e.routePanel.options.set({allowSwitch:!1,reverseGeocoding:!0,types:{masstransit:!1,pedestrian:!1,taxi:!1}}))},options:{float:"right"}})))}(e.order.order_address,this.state.courier_geodata))}}]),r}(n.a.Component),Oe={center:[55.751574,37.573856],zoom:9,controls:["zoomControl"]},je=Object(v.x)();var Ce=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).state={courier_id:-1,courier_geodata:e.courier_geodata},a.state.geoUpdateInterval=setInterval((function(){a.fetchCourierGeo()}),5e3),a}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,this.setState({courier_id:t.order.courier_id}),this.setState({courier_geodata:t.courier_geodata});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCourierGeo",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.courier_id>0&&(console.log("testttttt",this.state.courier_geodata),this.setState({courier_geodata:{lat:this.state.courier_geodata.lat+1e-5,long:this.state.courier_geodata.long+1e-5}}));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props;return n.a.createElement(v.o,{id:e.id},n.a.createElement(v.p,{left:n.a.createElement(R.a,{onClick:this.props.go,"data-to":"courier"},je===v.l?n.a.createElement(H.a,null):n.a.createElement($.a,null))},e.order.shop),n.a.createElement(v.r,{disabled:!0,multiline:!0,before:n.a.createElement(v.c,{size:72}),text:"",caption:e.order.date,after:e.order.state,actions:n.a.createElement(n.a.Fragment,null,n.a.createElement(v.d,null,"\u0427\u0430\u0442 \u0441 \u043a\u043b\u0438\u0435\u043d\u0442\u043e\u043c"))},e.order.number),function(e,t){var r,a;return r="object"===typeof e?e.lat+","+e.long:e,a="object"===typeof t?t.lat+","+t.long:t,console.log(t),n.a.createElement(ke.d,{query:{apikey:"482da132-c4be-476f-95ef-79ba61d579a4",load:"control.ZoomControl"}},n.a.createElement(ke.a,{width:"100vw",height:"100vh",defaultState:Oe,className:"mapview"},n.a.createElement(ke.c,{instanceRef:function(e){e&&(e.routePanel.state.set({fromEnabled:!1,type:"masstransit",from:a,to:r,toEnabled:!1}),e.routePanel.options.set({allowSwitch:!1,reverseGeocoding:!0,types:{masstransit:!1,pedestrian:!1,taxi:!1}}))},options:{float:"right"}})))}(e.order.target,this.state.courier_geodata))}}]),r}(n.a.Component),we={center:[55.751574,37.573856],zoom:9,controls:["zoomControl"]},xe=Object(v.x)();var Se=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).state={courier_id:-1,courier_geodata:{lat:55.6592,long:37.753314}},a.state.geoUpdateInterval=setInterval((function(){a.fetchCourierGeo()}),5e3),a}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props,this.setState({courier_id:t.order.courier_id}),this.setState({courier_geodata:{lat:55.6592,long:37.753314}});case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCourierGeo",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.state.courier_id>0&&this.setState({courier_geodata:{lat:this.state.courier_geodata.lat+1e-5,long:this.state.courier_geodata.long+1e-5}});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props;return n.a.createElement(v.o,{id:e.id},n.a.createElement(v.p,{left:n.a.createElement(R.a,{onClick:this.props.go,"data-to":"business"},xe===v.l?n.a.createElement(H.a,null):n.a.createElement($.a,null))},e.order.shop),n.a.createElement(v.r,{disabled:!0,multiline:!0,before:n.a.createElement(v.c,{size:72}),text:e.order.courier_name,caption:e.order.date,after:e.order.state,actions:n.a.createElement(n.a.Fragment,null,n.a.createElement(v.d,null,"\u0427\u0430\u0442 \u0441 \u043a\u0443\u0440\u044c\u0435\u0440\u043e\u043c"))},e.order.number),function(e,t){var r,a;return r="object"===typeof e?e.lat+","+e.long:e,a="object"===typeof t?t.lat+","+t.long:t,console.log(t),n.a.createElement(ke.d,{query:{apikey:"482da132-c4be-476f-95ef-79ba61d579a4",load:"control.ZoomControl"}},n.a.createElement(ke.a,{width:"100vw",height:"100vh",defaultState:we,className:"mapview"},n.a.createElement(ke.c,{instanceRef:function(e){e&&(e.routePanel.state.set({fromEnabled:!1,type:"masstransit",from:a,to:r,toEnabled:!1}),e.routePanel.options.set({allowSwitch:!1,reverseGeocoding:!0,types:{masstransit:!1,pedestrian:!1,taxi:!1}}))},options:{float:"right"}})))}(e.order.target,this.state.courier_geodata))}}]),r}(n.a.Component),qe={center:[55.751574,37.573856],zoom:9,controls:["zoomControl"]},Ue=Object(v.x)();var Pe=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;Object(h.a)(this,r),(a=t.call(this,e)).setYmaps=function(e){a.setState({ymaps:e})},a.setCenter=function(e){var t=a.state.ymaps;if(t){var r=e.getMap(),n=t.util.bounds.getCenterAndZoom(r.geoObjects.getBounds(),r.container.getSize()),s=n.zoom;n.zoom>19&&(s=19),r.setCenter(n.center,s)}};var n=a.fetchOrdersWithGeo(e.business_id);return a.state={business_id:e.business_id,orders:n,ymaps:null},a.state.geoUpdateInterval=setInterval((function(){a.setState({orders:a.fetchOrdersWithGeo(e.business_id)})}),5e3),a}return Object(p.a)(r,[{key:"fetchOrdersWithGeo",value:function(e){return this.state&&this.state.orders?(this.state.orders[0].geodata.lat=this.state.orders[0].geodata.lat+1e-4,this.state.orders[0].geodata.long=this.state.orders[0].geodata.long+1e-4,this.state.orders):[{shop:'\u041c\u0430\u0433\u0430\u0437\u0438\u043d "\u0420\u0430\u0437\u0432\u0438\u0432\u0430\u044e\u0449\u0438\u0435 \u0438\u0433\u0440\u0443\u0448\u043a\u0438"',date:"06.06.2020",state:"\u0412\u0435\u0437\u0443\u0442",number:"5488779",target:"\u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0411\u0440\u0430\u0442\u0438\u0441\u043b\u0430\u0432\u0441\u043a\u0430\u044f, \u0434. 31\u043a1",courier_id:123,courier_name:"\u0418\u0432\u0430\u043d\u043e\u0432 \u0412\u0438\u043a\u0442\u043e\u0440",geodata:{lat:55.6592,long:37.753314}},{shop:'\u041c\u0430\u0433\u0430\u0437\u0438\u043d "\u0420\u0430\u0437\u0432\u0438\u0432\u0430\u044e\u0449\u0438\u0435 \u0438\u0433\u0440\u0443\u0448\u043a\u0438"',date:"08.06.2020",state:"\u0412\u0435\u0437\u0443\u0442",number:"34643-643",target:"\u041c\u043e\u0441\u043a\u0432\u0430, \u0443\u043b. \u0411\u0440\u0430\u0442\u0438\u0441\u043b\u0430\u0432\u0441\u043a\u0430\u044f, \u0434. 31\u043a1",courier_id:124,courier_name:"\u0420\u0430\u0432\u0448\u0430\u043d \u0418\u043b\u044c\u044e\u0441\u043e\u0432\u0438\u0447",geodata:{lat:55.659209,long:37.753434}}]}},{key:"detailClick",value:function(){alert("test"),console.log("test")}},{key:"render",value:function(){var e=this;console.log("render");var t=this.props;return n.a.createElement(v.o,{id:t.id},n.a.createElement(v.p,{left:n.a.createElement(R.a,{onClick:this.props.go,"data-to":"business"},Ue===v.l?n.a.createElement(H.a,null):n.a.createElement($.a,null))},"\u041a\u0443\u0440\u044c\u0435\u0440\u044b ",t.business_name),n.a.createElement(ke.d,{query:{apikey:"482da132-c4be-476f-95ef-79ba61d579a4",load:["util.bounds","control.ZoomControl"]}},n.a.createElement(ke.a,{width:"100vw",height:"100vh",defaultState:qe,className:"mapview",onLoad:function(t){return e.setYmaps(t)}},this.state.orders&&this.state.orders.map((function(t){return n.a.createElement(ke.b,{key:t.number,properties:{hintContent:t.courier_name,properties:{name:"test"},balloonContent:'<div style="margin: 10px;"><b>'+t.courier_name+"</b><br /> \u0417\u0430\u043a\u0430\u0437: "+t.number+'<br /><i id="count"></i> </div>'},modules:["geoObject.addon.balloon","geoObject.addon.hint"],geometry:[t.geodata.lat,t.geodata.long],instanceRef:function(t){return t&&e.setCenter(t)}})})))))}}]),r}(n.a.Component),Te=window.location.hash.substr(1),De=function(e){Object(m.a)(r,e);var t=Object(b.a)(r);function r(e){var a;return Object(h.a)(this,r),(a=t.call(this,e)).setLocation=function(e){"home"!==e?c.a.send("VKWebAppSetLocation",{location:e}):c.a.send("VKWebAppSetLocation",{location:""})},a.closePopout=function(){a.setState({popout:null,activePanel:"home"})},a.go=function(e,t){var r=e.currentTarget.dataset.to;a.fetchUser(r),"view_where_courier"===r&&(a.setState({client_order:t}),a.fetchCourierGeo()),"view_where_client"===r&&a.setState({courier_order:t}),"view_where_courier_for_business"===r&&a.setState({client_order_for_business:t}),a.setState({activePanel:r}),a.setLocation(r)},a.state={activePanel:~U.indexOf(Te)?Te:"home",fetchedUser:null,popout:n.a.createElement(k.a,{size:"large"}),activeStory:"main",client_order:null,courier_order:null,client_order_for_business:null,user:null,courier_geodata:null},a.onStoryChange=a.onStoryChange.bind(Object(f.a)(a)),a.state.geoUpdateInterval=setInterval((function(){a.fetchCourierGeo(),console.log("tick")}),5e3),a}return Object(p.a)(r,[{key:"fetchCourierGeo",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(this.state.activePanel),"courier"!==this.state.activePanel&&"view_where_client"!==this.state.activePanel){e.next=14;break}return e.next=4,c.a.send("VKWebAppGetGeodata");case 4:return t=e.sent,this.setState({courier_geodata:t}),console.log("geodata",t),r={curier_id:this.state.user.curier_id,lat:t.lat,long:t.long},console.log(r),"https://sqsinformatique-vk-back.ngrok.io/api/v1/curiers/geo",e.next=12,fetch("https://sqsinformatique-vk-back.ngrok.io/api/v1/curiers/geo",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(r)});case 12:(a=e.sent).ok&&(n=a.json(),console.log(n));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.send("VKWebAppGetUserInfo");case 2:t=e.sent,this.setState({fetchedUser:t,popout:null});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onStoryChange",value:function(e){this.setState({activeStory:e.currentTarget.dataset.story})}},{key:"fetchUser",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var r,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r="https://sqsinformatique-vk-back.ngrok.io/api/v1/",e.t0=t,e.next="client"===e.t0?4:"courier"===e.t0?6:"business"===e.t0?8:10;break;case 4:return r+="clients/",e.abrupt("break",11);case 6:return r+="curiers/",e.abrupt("break",11);case 8:return r+="business/",e.abrupt("break",11);case 10:return e.abrupt("return",!0);case 11:return e.next=13,fetch(r+this.state.fetchedUser.id);case 13:if(!(a=e.sent).ok){e.next=20;break}return e.next=17,a.json();case 17:return s=e.sent,this.setState({user:s.result}),e.abrupt("return",!0);case 20:return this.setState({popout:n.a.createElement(pe,{userType:t,fetchedUser:this.state.fetchedUser,closePopout:this.closePopout})}),e.abrupt("return",!1);case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tabbarByUserType",value:function(e){var t=null;switch(this.state.activePanel){case"client":t=n.a.createElement(v.t,null,n.a.createElement(v.u,{onClick:this.onStoryChange,selected:"client_orders_ondelivery"===this.state.activeStory,"data-story":"client_orders_ondelivery",text:"\u041c\u043d\u0435 \u0432\u0435\u0437\u0443\u0442"},n.a.createElement(q.a,null)),n.a.createElement(v.u,{onClick:this.onStoryChange,selected:"client_options"===this.state.activeStory,"data-story":"client_options",text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},n.a.createElement(x.a,null)));break;case"business":t=n.a.createElement(v.t,null,n.a.createElement(v.u,{onClick:this.onStoryChange,selected:"main"===this.state.activeStory,"data-story":"main",text:"\u0417\u0430\u043a\u0430\u0437\u044b \u0432 \u0440\u0430\u0431\u043e\u0442\u0435"},n.a.createElement(y.a,null)),n.a.createElement(v.u,{onClick:this.onStoryChange,selected:"business_couriers_onmap"===this.state.activeStory,"data-story":"business_couriers_onmap",text:"\u041a\u0443\u0440\u044c\u0435\u0440\u044b \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"},n.a.createElement(O.a,null)),n.a.createElement(v.u,{onClick:this.onStoryChange,selected:"business_add_order"===this.state.activeStory,"data-story":"business_add_order",text:"\u041d\u043e\u0432\u044b\u0439 \u0437\u0430\u043a\u0430\u0437"},n.a.createElement(C.a,null)),n.a.createElement(v.u,{onClick:this.onStoryChange,selected:"business_options"===this.state.activeStory,"data-story":"business_options",text:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"},n.a.createElement(x.a,null)))}return t}},{key:"render",value:function(){return n.a.createElement(v.f,{activeStory:this.state.activeStory,tabbar:this.tabbarByUserType(this.state.activePanel)},n.a.createElement(v.w,{id:"main",activePanel:this.state.activePanel,popout:this.state.popout},n.a.createElement(K,{id:"home",fetchedUser:this.state.fetchedUser,go:this.go}),n.a.createElement(se,{id:"client",user:this.state.user,fetchedUser:this.state.fetchedUser,go:this.go}),n.a.createElement(ge,{id:"courier",user:this.state.user,fetchedUser:this.state.fetchedUser,go:this.go}),n.a.createElement(ue,{id:"business",user:this.state.user,fetchedUser:this.state.fetchedUser,go:this.go}),n.a.createElement(Ee,{id:"view_where_courier",order:this.state.client_order,go:this.go}),n.a.createElement(Ce,{id:"view_where_client",order:this.state.courier_order,courier_geodata:this.state.courier_geodata,go:this.go}),n.a.createElement(Se,{id:"view_where_courier_for_business",order:this.state.client_order_for_business,go:this.go})),n.a.createElement(v.w,{id:"business_couriers_onmap",activePanel:"business_couriers_onmap"},n.a.createElement(Pe,{id:"business_couriers_onmap",business_id:"123",business_name:"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u0410\u0432\u0442\u043e\u0437\u0430\u043f\u0447\u0430\u0441\u0442\u0435\u0439",go:this.go})),n.a.createElement(v.w,{id:"business_add_order",activePanel:"business_add_order"},n.a.createElement(be,{id:"business_add_order",user:this.state.user,fetchedUser:this.state.fetchedUser,go:this.go})),n.a.createElement(v.w,{id:"business_options",activePanel:"business_options"},n.a.createElement(he,{id:"business_options",user:this.state.user,fetchedUser:this.state.fetchedUser,go:this.go})))}}]),r}(n.a.Component);c.a.send("VKWebAppInit"),o.a.render(n.a.createElement(De,null),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.b9ee5ced.chunk.js.map